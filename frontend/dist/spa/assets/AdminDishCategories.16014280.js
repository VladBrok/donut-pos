import{d as Q,a as E,h as n,u as I,r as p,o as g,i as A,g as s,e as _,w as t,k as a,Q as T,n as m,f,t as v,b8 as y,b9 as V,j as z,a_ as N,aA as U,aB as P}from"./index.9a4cab8b.js";import{Q as $}from"./QInput.c820a074.js";import{Q as q,a as b}from"./QTable.4bf946cf.js";import{Q as L}from"./QImg.ec5547d3.js";import{u as M,C as O,B as R}from"./BigSpinner.84b43e9a.js";import{d as F}from"./dish-categories.78de2df4.js";import{_ as G}from"./ConfirmDialog.933faebb.js";import{_ as H}from"./NoData.374b9879.js";import{c as j}from"./fuzzy-search.950e6fed.js";import"./use-dark.dcf125aa.js";import"./focus-manager.05708ea9.js";import"./QList.5c1f8a12.js";import"./QSelect.eb5ea9ac.js";import"./QChip.8355376c.js";import"./QItemLabel.bfe7294f.js";import"./QMenu.f918919e.js";import"./position-engine.789805a8.js";import"./QDialog.144d910d.js";import"./focusout.1a0cc56a.js";import"./use-checkbox.c2fea4b3.js";import"./use-fullscreen.f57797c6.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./QCardSection.44124512.js";import"./QCard.e5424a73.js";import"./ClosePopup.136dfd71.js";const W={class:"text-weight-bold"},Se=Q({__name:"AdminDishCategories",setup(J){const c=E(),h=n(()=>c.state.dishCategories.categories),C=n(()=>j(h.value,["name"])),S=n(()=>C.value.search(u.value)),w=n(()=>[O.DISH_CATEGORIES]);let k=M(w,{store:c});const o=I(),l=p(null),d=p(!1),u=p(""),D=[{name:"index",label:"#",field:"index",align:"center"},{name:"image",label:o.value.image,align:"center",field:"imageUrl"},{name:"name",label:o.value.name,align:"center",field:"name",sortable:!0},{name:"actions",label:"",align:"right"}],x=r=>{l.value=r},B=()=>{N(l.value,"");const r=l.value.id;l.value=null,d.value=!0,c.commit.sync(F({id:r})).then(()=>{U.create({type:"positive",position:"top",timeout:P,message:o.value.deleteSuccess,multiLine:!0,group:!1})}).finally(()=>{d.value=!1})};return(r,i)=>(g(),A("div",null,[s(k)?(g(),_(R,{key:0})):(g(),_(q,{key:1,class:"q-mx-auto max-w-lg sticky-last-column-table",rows:S.value,columns:D,"row-key":"id","rows-per-page-label":s(o).perPage,loading:d.value,"binary-state-sort":"",pagination:{rowsPerPage:s(V)}},{"top-right":t(()=>[a($,{dense:"",modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value=e),placeholder:s(o).search,class:"q-mr-lg q-my-sm"},{append:t(()=>[a(T,{name:"search"})]),_:1},8,["modelValue","placeholder"]),a(m,{color:"primary",icon:"add",label:s(o).addDishCategory,to:"/admin/dish-categories/create"},null,8,["label"])]),"body-cell-index":t(e=>[a(b,{props:e},{default:t(()=>[f(v(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-image":t(e=>[a(b,{props:e},{default:t(()=>[a(L,{src:e.row.imageUrl,fit:"cover",class:"rounded-borders image-sm"},null,8,["src"])]),_:2},1032,["props"])]),"body-cell-actions":t(e=>[a(b,{props:e,"auto-width":""},{default:t(()=>[a(m,{flat:"",size:"md",icon:"mode_edit",color:"primary",dense:"",class:"q-mr-sm",onClick:i[1]||(i[1]=y(()=>{},["stop"])),to:`/admin/dish-categories/update/${e.row.id}`},null,8,["to"]),a(m,{flat:"",size:"md",icon:"o_delete",color:"negative",dense:"",onClick:y(K=>x(e.row),["stop"])},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":t(()=>[a(H)]),_:1},8,["rows","rows-per-page-label","loading","pagination"])),a(G,{"model-value":!!l.value,"onUpdate:modelValue":i[2]||(i[2]=e=>l.value=null)},{body:t(()=>{var e;return[f(v(s(o).confirmDishCategoryDelete)+" ",1),z("span",W,'"'+v(((e=l.value)==null?void 0:e.name)||"")+'"',1),f("? ")]}),confirmButton:t(()=>[a(m,{flat:"",label:s(o).deleteButton,color:"negative",onClick:B},null,8,["label"])]),_:1},8,["model-value"])]))}});export{Se as default};
