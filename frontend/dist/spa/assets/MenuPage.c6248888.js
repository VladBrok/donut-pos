import{d as N,a as V,h as n,r as u,u as $,o as a,i as l,j as h,g as f,e as c,k as m,w as k,ai as _,ah as C,cd as O,Q,ag as U,bN as z}from"./index.9a4cab8b.js";import{Q as A}from"./QInput.c820a074.js";import{Q as R}from"./QPageSticky.7265090d.js";import{u as q,C as y,B as F}from"./BigSpinner.84b43e9a.js";import{_ as M,a as H,b as L}from"./DishDetailsModal.5838b7c4.js";import{_ as G}from"./FilterPill.820a6f07.js";import{_ as P}from"./NoData.374b9879.js";import{c as T}from"./fuzzy-search.950e6fed.js";const j={key:1},J={class:"bg-gray-lightest q-py-md q-px-md w-100"},K={class:"q-mb-lg mt-lg-xl gap-sm row"},W={key:0,class:"q-mx-auto card-grid"},X={key:1},ie=N({__name:"MenuPage",setup(Y){const o=V(),I=n(()=>o.state.dishes.dishes),S=n(()=>[{id:"all",imageUrl:O,name:g.value.allMenu},...o.state.dishCategories.categories]),i=u("all"),D=n(()=>T(I.value,["name","category.name","price","weight"])),v=n(()=>D.value.search(r.value||"").filter(t=>{var s;return i.value==="all"||((s=t.category)==null?void 0:s.id)===i.value})),b=n(()=>[y.DISHES,y.DISH_CATEGORIES]);let x=q(b,{store:o});const g=$(),r=u(null),d=u(null),w=u(),B=t=>{i.value=t},E=(t,s)=>{const e={cookedDate:"",cookingDate:"",deliveredDate:"",status:"",count:1,dishIdInOrder:z(),...s,modifications:[]};L(o,e,t)};return(t,s)=>(a(),l(_,null,[h("div",null,[f(x)?(a(),c(F,{key:0})):(a(),l("div",j,[m(R,{position:"top",expand:"",style:{"z-index":"10"}},{default:k(()=>[h("div",J,[m(A,{class:"bg-white max-w-sm rounded-borders",outlined:"",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),placeholder:f(g).searchDishes,clearable:""},{append:k(()=>{var e;return[(e=r.value)!=null&&e.length?U("",!0):(a(),c(Q,{key:0,name:"search"}))]}),_:1},8,["modelValue","placeholder"])])]),_:1}),h("div",K,[(a(!0),l(_,null,C(S.value,e=>(a(),c(G,{key:e.id,"image-url":e.imageUrl,id:e.id,name:e.name,"selected-id":i.value,onClick:p=>B(e.id)},null,8,["image-url","id","name","selected-id","onClick"]))),128))]),v.value.length?(a(),l("div",W,[(a(!0),l(_,null,C(v.value,e=>(a(),c(H,{dish:e,key:e.id,ref_for:!0,ref_key:"dishRefs",ref:w,onOpenDetailsClick:p=>d.value=e,onAddClick:p=>E(p,e)},null,8,["dish","onOpenDetailsClick","onAddClick"]))),128))])):(a(),l("div",X,[m(P)]))]))]),m(M,{"model-value":Boolean(d.value),"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=null),dish:d.value},null,8,["model-value","dish"])],64))}});export{ie as _};
