import{d as V,a as $,h as n,r as c,u as N,o as a,i as l,j as _,g,e as u,k as m,w as k,ae as h,ad as C,c9 as O,Q,ac as U,bJ as z}from"./index.92b1981f.js";import{Q as A}from"./QInput.7bd0947e.js";import{Q as R}from"./QPageSticky.c109b400.js";import{u as q,C as y,B as F}from"./BigSpinner.23930169.js";import{_ as M,a as H,b as L}from"./DishDetailsModal.7c012982.js";import{_ as G}from"./FilterPill.13e52a61.js";import{_ as P}from"./NoData.b4eb18ee.js";import{c as T}from"./fuzzy-search.950e6fed.js";const j={key:1},J={class:"bg-gray-lightest q-py-md q-px-md w-100"},K={class:"q-mb-lg mt-lg-xl gap-sm row"},W={key:0,class:"q-mx-auto card-grid"},X={key:1},ie=V({__name:"MenuPage",setup(Y){const o=$(),I=n(()=>o.state.dishes.dishes),S=n(()=>[{id:"all",imageUrl:O,name:f.value.allMenu},...o.state.dishCategories.categories]),i=c("all"),D=n(()=>T(I.value,["name","category.name","price","weight"])),v=n(()=>D.value.search(r.value||"").filter(t=>{var s;return i.value==="all"||((s=t.category)==null?void 0:s.id)===i.value})),b=n(()=>[y.DISHES,y.DISH_CATEGORIES]);let x=q(b,{store:o});const f=N(),r=c(null),d=c(null),w=c(),B=t=>{i.value=t},E=(t,s)=>{const e={cookedDate:"",cookingDate:"",deliveredDate:"",status:"",count:1,dishIdInOrder:z(),...s,modifications:[]};L(o,e,t)};return(t,s)=>(a(),l(h,null,[_("div",null,[g(x)?(a(),u(F,{key:0})):(a(),l("div",j,[m(R,{position:"top",expand:"",style:{"z-index":"10"}},{default:k(()=>[_("div",J,[m(A,{class:"bg-white max-w-sm rounded-borders",outlined:"",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),placeholder:g(f).searchDishes,clearable:""},{append:k(()=>{var e;return[(e=r.value)!=null&&e.length?U("",!0):(a(),u(Q,{key:0,name:"search"}))]}),_:1},8,["modelValue","placeholder"])])]),_:1}),_("div",K,[(a(!0),l(h,null,C(S.value,e=>(a(),u(G,{key:e.id,"image-url":e.imageUrl,id:e.id,name:e.name,"selected-id":i.value,onClick:p=>B(e.id)},null,8,["image-url","id","name","selected-id","onClick"]))),128))]),v.value.length?(a(),l("div",W,[(a(!0),l(h,null,C(v.value,e=>(a(),u(H,{dish:e,key:e.id,ref_for:!0,ref_key:"dishRefs",ref:w,onOpenDetailsClick:p=>d.value=e,onAddClick:p=>E(p,e)},null,8,["dish","onOpenDetailsClick","onAddClick"]))),128))])):(a(),l("div",X,[m(P)]))]))]),m(M,{"model-value":Boolean(d.value),"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=null),dish:d.value},null,8,["model-value","dish"])],64))}});export{ie as _};
