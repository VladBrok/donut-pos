import{d as n,u as r,a as c,r as m,c as l,w as p,l as u,o as g,e as _,t as f,f as w}from"./index.7ae99152.js";import{_ as d}from"./LoginPage.f84463f5.js";import"./QCardSection.e04a19bd.js";import"./QCard.ece06ff7.js";import"./use-dark.4188ae36.js";import"./on-form-validation-error.f744f424.js";import"./focus-manager.05708ea9.js";import"./EmailInput.ced02575.js";import"./QInput.23cad58c.js";import"./PasswordInput.e3376571.js";const C=n({__name:"WaiterLogin",setup(h){const s=r(),t=c(),e=m(!1),a=async o=>{e.value=!0,t.commit.sync(u({email:o.email,password:o.password,permissions:{waiter:!0}})).then(()=>{t.client.changeUser(t.state.auth.user.userId||"",t.state.auth.user.accessToken||"");const i=new URL("/waiter",window.location.origin);window.location.href=i.toString()}).catch(()=>{e.value=!1})};return(o,i)=>(g(),l(d,{"is-logging-in":e.value,onSubmit:a,"icon-name":"o_badge"},{title:p(()=>[_(f(w(s).waiterLoginPageTitle),1)]),_:1},8,["is-logging-in"]))}});export{C as default};
