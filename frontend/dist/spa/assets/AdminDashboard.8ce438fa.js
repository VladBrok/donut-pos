import{o as d,e as A,w as t,j as p,m as g,d as T,r as c,a as E,h as a,u as I,A as O,b6 as R,H as $,i as C,g as u,k as m,aG as j,b7 as q,f as b,t as o}from"./index.9a4cab8b.js";import{u as V,C as H,B as L}from"./BigSpinner.84b43e9a.js";import{Q as M}from"./QCard.e5424a73.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.dcf125aa.js";const Q={},Y={class:"text-subtitle1 text-dark-gray text-weight-bold"};function G(_,s){return d(),A(M,{class:"q-pa-md"},{default:t(()=>[p("div",Y,[g(_.$slots,"title")]),g(_.$slots,"content")]),_:3})}var x=P(Q,[["render",G]]);const U={key:1,class:"row justify-center gap-lg q-mx-auto max-w-xl"},z={class:"text-center text-h3 text-weight-bold full-height row justify-center items-center q-pb-xl"},F={class:"text-center text-h3 text-weight-bold full-height row justify-center items-center q-pb-xl"},ee=T({__name:"AdminDashboard",setup(_){const s=c(),h=E(),n=c(),l=c(),S=a(()=>h.state.auth.user.userId),k=a(()=>S.value===j.userId?[]:[H.ADMIN_DASHBOARD]),D=V(k,{store:h}),y=c(!1),f=a(()=>h.state.dashboard.data),i=I(),w=a(()=>q.map(e=>{var r;return{label:i.value[`orderType_${e}`],value:((r=f.value.orderTypes.find(B=>B.type===e))==null?void 0:r.count)||0}})),N=a(()=>w.value.map(e=>e.value)),v=a(()=>({chart:{type:"donut"},series:N.value,labels:w.value.map(e=>e.label),responsive:[{breakpoint:1e4,options:{chart:{width:380}}},{breakpoint:480,options:{chart:{width:300}}}]}));return O(async()=>{y.value=!0;try{const e=await R(()=>import("./apexcharts.common.31525334.js").then(function(r){return r.a}),[]);n.value=e.default}finally{y.value=!1}}),$([v,s,n],()=>{!s.value||!n.value||(l.value?l.value.updateOptions(v.value):(l.value=new n.value(s.value,v.value),l.value.render()))}),(e,r)=>(d(),C("div",null,[u(D)?(d(),A(L,{key:0})):(d(),C("div",U,[m(x,{class:"admin-dashboard-flex-item"},{title:t(()=>[b(o(u(i).orderTypes),1)]),content:t(()=>[p("div",{ref_key:"chart",ref:s},null,512)]),_:1}),m(x,{class:"admin-dashboard-flex-item"},{title:t(()=>[b(o(u(i).orderCount),1)]),content:t(()=>[p("div",z,o(f.value.orderCount),1)]),_:1}),m(x,{class:"admin-dashboard-flex-item"},{title:t(()=>[b(o(u(i).clientCount),1)]),content:t(()=>[p("div",F,o(f.value.clientCount),1)]),_:1})]))]))}});export{ee as default};
