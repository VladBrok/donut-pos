import{Q as O}from"./QImg.bc00f4b6.js";import{Q as b}from"./QTooltip.64d8fdeb.js";import{d as B,u as D,r as E,h as I,o as t,i as s,e as $,w as m,aE as q,g as i,j as r,t as n,k as l,ag as c,m as f,ai as N,ah as K,n as v,f as Q,ay as h}from"./index.3f3b8c57.js";import{_ as S}from"./ProductCounter.a856a3d8.js";import{c as V}from"./capitalize.b0e9fa3f.js";import{f as y}from"./currency.2af12bed.js";const P={class:"row no-wrap gap-md q-py-md q-px-xs items-center"},T={key:0,class:"absolute-full text-body1 flex flex-center no-text-transform"},j={class:"flex-grow"},x={class:"row no-wrap items-baseline justify-between"},A={class:"text-h6 q-pr-sm"},L={key:0,class:"text-h6 text-dark-gray"},R={key:1,class:"text-dark-gray"},z={key:0},M={key:1},U={class:"text-body2"},Y={key:0},F={key:1},G={class:"q-mt-md row gap-sm justify-between"},H={key:0},J={key:1,class:"text-primary text-h5 q-pr-sm"},oe=B({__name:"DishInOrder",props:{dish:{},viewOnly:{type:Boolean},forKitchen:{type:Boolean},hidePrice:{type:Boolean},totalCost:{},count:{},modifications:{}},emits:["delete","increment","decrement"],setup(d,{emit:g}){const w=d,u=g,_=D(),p=E(!1),C=I(()=>w.modifications||[]);function k(){p.value=!0}return(e,a)=>(t(),s("div",P,[(t(),$(q(e.forKitchen?i(v):"div"),{onClick:a[0]||(a[0]=o=>e.forKitchen&&k()),dense:"",unelevated:"",class:"rounded-borders q-pa-none"},{default:m(()=>[l(O,{src:e.dish.imageUrl,alt:"",fit:"cover",class:"image-sm-md shadow-3 rounded-borders no-shrink"},{default:m(()=>[e.dish.isActive?c("",!0):(t(),s("div",T,n(i(V)(i(_).outOfStock)),1))]),_:1},8,["src"])]),_:1})),r("div",j,[r("div",x,[r("div",null,[r("span",A,n(e.dish.name),1),e.hidePrice?(t(),s("span",L," (x "+n(e.count)+") ",1)):(t(),s("span",R," ("+n(e.count)+" x "+n(i(y)(e.dish.price))+") ",1))]),e.viewOnly?c("",!0):(t(),s("div",z,[l(i(v),{color:"negative",dense:"",flat:"",round:"",icon:"close",onClick:a[1]||(a[1]=o=>u("delete"))})])),e.forKitchen?(t(),s("div",M,[l(i(v),{dense:"",flat:"",round:"",size:"sm",icon:"open_in_new",color:"dark-gray",onClick:k},{default:m(()=>[l(b,null,{default:m(()=>[Q(n(i(_).viewDetails),1)]),_:1})]),_:1})])):c("",!0)]),f(e.$slots,"additonal-info"),r("div",null,[(t(!0),s(N,null,K(C.value,o=>(t(),s("div",{key:o.modification.id},[r("div",U,[r("span",null,n(o.modification.name),1),e.hidePrice?(t(),s("span",Y," (x "+n(o.count)+") ",1)):(t(),s("span",F," ("+n(o.count)+" x "+n(i(y)(o.modification.price))+") ",1))])]))),128)),r("div",G,[e.viewOnly?c("",!0):(t(),s("div",H,[l(S,{onIncrement:a[2]||(a[2]=o=>u("increment")),onDecrement:a[3]||(a[3]=o=>u("decrement")),min:1,count:e.count,disable:!e.dish.isActive},null,8,["count","disable"])])),f(e.$slots,"actions"),e.totalCost?(t(),s("div",J,n(i(y)(e.totalCost)),1)):c("",!0)])])]),f(e.$slots,"modal",{modalOpen:p.value,updateModelOpen:o=>p.value=o})]))}});function ne(d){return d===h.DELIVERY?"o_directions_car":d===h.DINE_IN?"o_restaurant":d===h.TAKEOUT?"o_local_mall":""}export{oe as _,ne as g};
