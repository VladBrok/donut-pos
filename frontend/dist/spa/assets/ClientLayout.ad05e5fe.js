import{p as T,h as a,q as b,s as O,v as E,d as V,u as Q,ae as U,a as P,r as h,A as j,a9 as R,e as C,w as r,o as u,g as t,i as W,ai as F,aj as M,ah as A,k as n,f as B,t as i,n as I,j as m,bU as w,T as z,aG as G,b7 as H,bV as K,cm as Y}from"./index.a56c0b25.js";import{u as J,a as X}from"./use-dark.deeb5c40.js";import{Q as Z}from"./QPageSticky.eb643854.js";import{u as ee,C as N}from"./BigSpinner.09969e17.js";import{C as te}from"./CommonTooltip.c95e823b.js";import{a as oe,_ as re,b as ne,c as ae}from"./NotificationsBell.3b7e4d7a.js";import{_ as se,a as ie}from"./MainLayout.28c46f03.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./position-engine.a0b2c5d1.js";import"./focus-manager.05708ea9.js";import"./portal.658bf94a.js";import"./get-order-total-cost.1b7d98d1.js";import"./OrderNumberTitle.fcac5f88.js";import"./focusout.b8fe2152.js";import"./PaymentMethodsModal.64554c3b.js";import"./QSpace.2b4ffd3c.js";import"./QCardSection.c5c63ce7.js";import"./QCard.eebcef64.js";import"./QDialog.379e75b8.js";import"./ClosePopup.2e36ed16.js";import"./ClickableCardItem.b364387f.js";import"./QImg.8865fb5f.js";import"./QItemLabel.f4f73baf.js";import"./QList.f52615f8.js";import"./browser.1a1bd576.js";import"./QInput.886048bb.js";import"./on-form-validation-error.04ef1312.js";import"./currency.2af12bed.js";import"./address.b5e3391c.js";import"./capitalize.b0e9fa3f.js";import"./CommonFooter.7c7756e3.js";import"./NoData.9c6b1f73.js";import"./get-order-type-icon.83576e31.js";import"./ProductCounter.bb5c58f8.js";import"./date.b6f3ce26.js";import"./dayjs.min.78c0669c.js";import"./OrderView.5e8c0f51.js";import"./QBtnDropdown.49469e3e.js";import"./QMenu.1c86b734.js";import"./LogoImage.3d1f27f8.js";import"./phone.158664be.js";import"./QSelect.73c2bb71.js";import"./QChip.a691b42f.js";import"./AddAddressModal.aebc31e6.js";import"./PhoneInput.dab07985.js";import"./create-order.2161cce9.js";import"./fuzzy-search.950e6fed.js";import"./ConfirmDialog.1ec5034e.js";var le=T({name:"QBanner",props:{...J,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(s,{slots:e}){const{proxy:{$q:d}}=E(),g=X(s,d),o=a(()=>"q-banner row items-center"+(s.dense===!0?" q-banner--dense":"")+(g.value===!0?" q-banner--dark q-dark":"")+(s.rounded===!0?" rounded-borders":"")),p=a(()=>`q-banner__actions row items-center justify-end col-${s.inlineActions===!0?"auto":"all"}`);return()=>{const _=[b("div",{class:"q-banner__avatar col-auto row items-center self-start"},O(e.avatar)),b("div",{class:"q-banner__content col text-body2"},O(e.default))],l=O(e.action);return l!==void 0&&_.push(b("div",{class:p.value},l)),b("div",{class:o.value+(s.inlineActions===!1&&l!==void 0?" q-banner--top-padding":""),role:"alert"},_)}}});const ce={class:"text-h5"},ue={class:"text-body1"},me={class:"text-center text-h6 q-mb-sm"},st=V({__name:"ClientLayout",setup(s){const e=Q(),d=U(),g=a(()=>{const c=[{icon:"o_restaurant_menu",label:e.value.menu,to:"/menu",meta:e.value.menu},{icon:"o_receipt_long",label:e.value.orders,to:"/orders",meta:e.value.orders}];return d.value&&c.push({icon:"o_pin_drop",label:e.value.addresses,to:"/addresses",meta:e.value.addresses}),c}),o=P(),p=a(()=>o.state.orderDrawer.isCurrentOrderOpen),_=a(()=>o.state.welcomeBanner.isOpen),l=h(o.state.auth.user),k=h(o.state.auth.user.userId),S=a(()=>k.value===H.userId?[]:[N.COOKED_ORDERS(k.value),N.DEFAULT_SALE_POINT]);let D=ee(S,{store:o});const x=a(()=>o.state.orders.cookedOrders),$=a(()=>x.value.length),q=h(()=>{});j(()=>{q.value=o.client.on("user",c=>{k.value=c})}),R(()=>{q.value()});function L(){p.value?o.commit.local(w()):o.commit.local(K())}function y(){o.commit.crossTab(Y())}return(c,f)=>(u(),C(se,{"menu-list":g.value},{actions:r(()=>[t(d)?(u(),C(oe,{key:0,"is-loading":t(D),"notification-count":$.value},{"notification-list":r(()=>[(u(!0),W(M,null,F(x.value,v=>(u(),C(re,{key:v.order.id,order:v},null,8,["order"]))),128))]),_:1},8,["is-loading","notification-count"])):A("",!0),n(I,{class:"q-mr-xs shopping-basket",flat:"",round:"",icon:"o_shopping_basket",onClick:L,title:t(e).openCurrentOrder},{default:r(()=>[n(te,null,{default:r(()=>[B(i(t(e).openCurrentOrder),1)]),_:1}),n(ne)]),_:1},8,["title"])]),drawers:r(()=>[n(ie,{"model-value":p.value,"onUpdate:modelValue":f[0]||(f[0]=v=>t(o).commit.local(t(w)())),onClose:f[1]||(f[1]=v=>t(o).commit.local(t(w)()))},{title:r(()=>[m("p",ce,i(t(e).currentOrder),1)]),content:r(()=>[n(ae)]),_:1},8,["model-value"]),n(Z,{position:"top",expand:"",style:{"z-index":"12"}},{default:r(()=>[n(z,{tag:"div",name:"fade-single"},{default:r(()=>[_.value?(u(),C(le,{key:0,class:"bg-white banner-border shadow-4",rounded:""},{action:r(()=>[n(I,{flat:"",color:"primary",label:t(e).close,onClick:y},null,8,["label"])]),default:r(()=>[m("div",ue,[m("p",me,i(t(e).welcome({firstName:l.value.firstName||""})),1),m("p",null,i(t(e).chooseDishesInstruction),1),m("p",null,[B(i(t(e).viewOrdersInstruction)+" ",1),n(t(G),{to:"/orders",class:"link",onClick:y},{default:r(()=>[B(i(t(e).ordersPage),1)]),_:1})])])]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1},8,["menu-list"]))}});export{st as default};
